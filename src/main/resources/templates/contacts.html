<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Contacts</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="#" th:href="@{/css/style.css}" rel="stylesheet" />
  <link href="#" th:href="@{/css/contacts.css}" rel="stylesheet" />
</head>

<body>
  <div class="container">

    <h1>Hello, <span th:text="${username}"></span>!</h1>
    <br />
    <div class="panel panel-default">
      <div class="panel-heading"></div>
      <table class="table">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Telephone</th>
            <th>City</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="contact : ${contacts}">
            <td th:text="${contact.firstname}"></td>
            <td th:text="${contact.lastname}"></td>
            <td th:text="${contact.telephone}"></td>
            <td th:text="${contact.city}"></td>
            <td>
              <a href="#" th:href="@{/contacts/contactform?id=__${contact.id}__}">
                <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-pencil"
                    aria-hidden="true">Editar</span></button>
              </a>
              <a href="#" th:href="@{/contacts/removecontact?id=__${contact.id}__}">
                <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash"
                    aria-hidden="true">Eliminar</span></button>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div th:if="${result == 1}" class="alert alert-success" role="alert">Added Successfully</div>
    <div th:if="${result == 0}" class="alert alert-danger" role="alert">Error adding contact</div>
    <a href="#" th:href="@{/contacts/contactform?id=0}">
      <button class="btn btn-lg btn-primary btn-block" type="submit">
        <span class="glyphicon glyphicon-user" aria-hidden="true"></span> Add contact</button>
    </a>

    <form th:action="@{/logout}" method="POST">
      <button class="btn btn-lg btn-primary btn-block" type="submit">
        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Logout</button>
    </form>

    <a href="#" th:href="@{/api/listcontacts}">API CONTACTS  </div>
</body>

</html>